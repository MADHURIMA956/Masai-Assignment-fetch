<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YT</title>
    <script src="https://kit.fontawesome.com/c5df6b2bbe.js" crossorigin="anonymous"></script>
    <style>
        /* div > div{
            border: 1px solid red;
        } */
        #navbar{
            position:fixed;
            width: 100%;
            top:0%;
            left:0%;
            display: flex;
            height: 70px;
         
            z-index: 1;
        }
        #navbar > div:nth-child(1){
            display: flex;
            width: 20%;
        }
        #navbar > div:nth-child(1) > div{
           
            width: 30%;
        }
        #navbar > div:nth-child(2){
            flex-grow: 1;
        }
        #navbar > div:nth-child(3){
           display: flex;
           width: 20%;
        }
        #navbar > div:nth-child(3) > div{
           display: flex;
           width: 25%;
           justify-content: center;
          padding-top: 25px;
        }
        #utubeimg{
            width: 80%;
            height: 30px;
        }
        #navbar > div:nth-child(1) > div:nth-child(2){
          padding-top : 15px;
          width: 70%;
        }
        #query{
            width: 70%;
            height: 40px;
            margin-top: 15px;
            margin-left: 50px;
            border:1px solid rgb(209, 199, 199) ;
        }
        #query:focus{
            outline: none;
        }
        #search{
            width: 10%;
            height: 44px;
            margin-top: 15px;
            margin-right: 10px;
            border:1px solid rgb(209, 199, 199) ;
        }
        #main{
            display: flex;
            height: 1000px;
        }
        #main > div:nth-child(1){
           width: 20%;
        }
        #main > div:nth-child(2){
           flex-grow: 1;
        }
        #container {
          display: flex;
          flex-direction: column; 
        }
        #container >div:nth-child(1) {
         height: 40px;
        }
        #container >div:nth-child(2) {
         flex-grow: 1;
        }
        #main_div{
            position: relative;
            width: 100%;
            top:12%;
            
        }
        #main_div > div{
           margin: 3%; 
            
        }

        #btn_div{
            position:fixed;
            width: 100%;
            top:11%;
            left:20.55%;
            z-index: 1;
            padding: 5px 20px;
            border-top: 1px solid rgb(209, 199, 199) ;
            border-bottom:1px solid rgb(209, 199, 199) ;
        }
        .btn_upper{
           padding: 10px 20px;
           border-radius: 10px;
           border: none;
           margin: 5px 5px;
        }
    </style>
</head>
<body>
    <div id="navbar">
        <div>
            <div></div>
            <div>
                <img id="utubeimg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b8/YouTube_Logo_2017.svg/2560px-YouTube_Logo_2017.svg.png" alt="">
            </div>
        </div>
        <div><input id="query" type="text" placeholder="Search"><button id="search" onclick="searchVideos()"><i class="fa fa-search" aria-hidden="true"></i></button></div>
        <div>
            <div><i class="fa fa-plus-square-o" aria-hidden="true"></i></div>
            <div><i class="fa fa-th" aria-hidden="true"></i></div>
            <div><i class="fa fa-bell-o" aria-hidden="true"></i></div>
            <div><i class="fa fa-user" aria-hidden="true"></i></div>
        </div>
    </div>
    <div id="main">
        <div></div>
        <div id="container">
            <div id="btn_div">
                <button class="btn_upper">All</button>
                <button class="btn_upper">Popular</button>
                <button class="btn_upper">Trending</button class="btn_upper">
                <button class="btn_upper">Live</button>
                <button class="btn_upper">Music</button>
            </div>
            <div id="main_div">

            </div>
        </div>
    </div>
</body>
</html>

<script>
//   async function showVideos(){

//     let res = await fetch('https://youtube.googleapis.com/youtube/v3/videos?key=AIzaSyDdzweW9-us5ypGorA2oGp-0y8j7bPPuIs')

//     console.log(res);
//     let data = await res.json();
//     console.log(data.data);
//     appendVideos(data.items)
//   }

    

        
//     function  appendVideos(video_data){
//         videos.innerHTML = null;
//         video_data.forEach( ({ id:{videoId} })=>{
//             //console.log(videoId);

//             let div = document.createElement("div");
//             // embeded video 
//             div.innerHTML = `<iframe width="300" height="215" src="https://www.youtube.com/embed/${videoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`

//             div.style.marginTop = "20px";
            
//             videos.append(div);
            
//         });

//     }
</script>

<script>

    let videos = document.getElementById('main_div')

    async function searchVideos(){

        let query = document.getElementById('query').value
        try{
            let res = await fetch(`https://youtube.googleapis.com/youtube/v3/search?q=${query}&type=video&key=AIzaSyDdzweW9-us5ypGorA2oGp-0y8j7bPPuIs&maxResults=20`)

            let data = await res.json();

            console.log(data);
            appendVideos(data.items)
        }catch{
            console.log(e)
        }
    }


    function  appendVideos(video_data){
        videos.innerHTML = null;

        video_data.forEach( ({ id:{videoId} })=>{
            //console.log(videoId);

           let div = document.createElement("div");
            // embeded video 
            div.innerHTML = `<iframe width="300" height="215" src="https://www.youtube.com/embed/${videoId}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`

            div.style.marginTop = "20px";
            
            videos.append(div);
            
        });

        
    }

</script>